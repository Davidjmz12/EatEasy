{% extends "main/layout-filters.html"  %}
{% load static %}

{% block new-head %}
    <link rel="stylesheet" href="{% static "main/restaurant.css" %}">
{% endblock %}

{% block filters %}
<!-- Filters of consumers preferences -->
    <p class="info-title">
        Food filters
    </p>

    <div class="one-filter">
        <input class="filter-checkbox" type="checkbox">
        <p class="filter-text">Celiac</p>
    </div>

    <div class="one-filter">
        <input class="filter-checkbox" type="checkbox">
        <p class="filter-text">Vegetarian</p>
    </div>

    <div class="one-filter">
        <input class="filter-checkbox" type="checkbox">
        <p class="filter-text">Vegan</p>
    </div>

    <!-- Filters of price -->
    <p class="info-title">
        Prices
    </p>

    <div class="slider-container">
        {% csrf_token %}
        <input class="slice" type="range">
    </div>
{% endblock %}

{% block main %}
    <div class="main">
        <a class="restaurant-name" href="{% url 'main:restaurant-info' restaurant.user_id %}">
            {{ restaurant.rest_name }}
        </a>

        {% for dish in dishes %}
            <a class="one-dish-short" href="{% url 'main:menu' dish.name %}">
                {% if dish.vegetarian %}
                	<img class="type-icon" src="{% static 'main/images/vegetarian.png' %}">
                {% else %}
                    <img class="type-icon" src="{% static 'main/images/no-vegetarian.png' %}">
                {% endif %}

                {% if dish.vegan %}
                    <img class="type-icon" src="{% static 'main/images/vegan.png' %}">
                {% else %}
                    <img class="type-icon" src="{% static 'main/images/no-vegan.png' %}">
                {% endif %}

                {% if dish.celiac %}
                    <img class="type-icon" src="{% static 'main/images/gluten.png' %}">
                {% else %}
                    <img class="type-icon" src="{% static 'main/images/no-gluten.png' %}">
                {% endif %}

                <p class="dish-name">
                    {{ dish.name }}
                </p>

                <p class="dish-price">
                    {{ dish.price }}€
                </p>
            </a>

            <div class="one-dish-long" style="display: none" onclick="toggleContent({{ forloop.counter0 }})">
                <img class="dish-img" alt="dish" src="{{ dish.img }}">

                <div class="dish-info">
                    <div class="dish-header">
                        <p class="dish-name">
                            {{ dish.name }}
                        </p>

                        <p class="dish-price">
                            {{ dish.price }}€
                        </p>
                    </div>

                    <div class="dish-ingredients">
                        <p class="dish-ingredients-title">
                            Ingredientes:
                        </p>
                    </div>
                </div>
            </div>
            <script src="{% static "main/restaurant.js" %}"></script>

        {% empty %}

            <p>
                No hay platos todavía para este restaurante.
            </p>

        {% endfor %}
    </div>
{% endblock %}